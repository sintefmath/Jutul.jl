<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Jutul.jl</title><meta name="title" content="Home · Jutul.jl"/><meta property="og:title" content="Home · Jutul.jl"/><meta property="twitter:title" content="Home · Jutul.jl"/><meta name="description" content="Documentation for Jutul.jl."/><meta property="og:description" content="Documentation for Jutul.jl."/><meta property="twitter:description" content="Documentation for Jutul.jl."/><meta property="og:url" content="https://sintefmath.github.io/Jutul.jl/"/><meta property="twitter:url" content="https://sintefmath.github.io/Jutul.jl/"/><link rel="canonical" href="https://sintefmath.github.io/Jutul.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Jutul.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#About"><span>About</span></a></li><li><a class="tocitem" href="#An-example"><span>An example</span></a></li><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li></ul></li><li><a class="tocitem" href="usage/">Usage</a></li><li><a class="tocitem" href="mesh/">Meshes and mesh utilities</a></li><li><a class="tocitem" href="internals/">Internals</a></li><li><a class="tocitem" href="docstrings/">Docstrings</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/sintefmath/Jutul.jl/blob/main/docs/src/index.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Jutul-documentation"><a class="docs-heading-anchor" href="#Jutul-documentation">Jutul documentation</a><a id="Jutul-documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Jutul-documentation" title="Permalink"></a></h1><h2 id="About"><a class="docs-heading-anchor" href="#About">About</a><a id="About-1"></a><a class="docs-heading-anchor-permalink" href="#About" title="Permalink"></a></h2><p><a href="https://github.com/sintefmath/Jutul.jl">Jutul</a> is an experimental Julia framework for multiphysics processes based on implicit finite-volume methods with automatic differentiation. The main public demonstrator is <a href="https://github.com/sintefmath/JutulDarcy.jl">JutulDarcy.jl</a> - a fully differentiable porous media simulator with excellent performance.</p><h2 id="An-example"><a class="docs-heading-anchor" href="#An-example">An example</a><a id="An-example-1"></a><a class="docs-heading-anchor-permalink" href="#An-example" title="Permalink"></a></h2><p>Jutul is primarily intended to build applications. The base library includes a few &quot;hello world&quot;-type PDE solvers that are used for testing. One of these is the standard 2D heat equation on residual form:</p><p><span>$\frac{\partial T}{\partial t} - \frac{\partial^2 T}{\partial x^2} - \frac{\partial^2 T}{\partial y^2} = 0$</span></p><p>The test solver uses a structured grid and a central difference scheme with periodic boundary conditions to solve this system. <a href="https://github.com/sintefmath/Jutul.jl/blob/main/src/applications/test_systems/heat_2d/heat_2d.jl">You can view the complete source code for this solver here.</a></p><h3 id="Simulation-loop"><a class="docs-heading-anchor" href="#Simulation-loop">Simulation loop</a><a id="Simulation-loop-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-loop" title="Permalink"></a></h3><p>We demonstrate how to set up the simulation loop. This essentially boils down to three things: Setting up a grid/model, setting initial condition and picking time-steps where the solver should report output:</p><pre><code class="language-julia hljs">using Jutul
sys = SimpleHeatSystem()
# Create a 100x100 grid
nx = ny = 100
L = 100.0
H = 100.0
g = CartesianMesh((nx, ny), (L, H))
# Create a data domain with geometry information
D = DataDomain(g)
# Set up a model with the grid and system
model = SimulationModel(D, sys)
# Initial condition is random values
nc = number_of_cells(g)
T0 = zeros(nc)
x = D[:cell_centroids][1, :]
y = D[:cell_centroids][2, :]
# Create initial peak of heat to diffuse out.
for i in 1:nc
    if (x[i] &gt; 0.25*L) &amp; (x[i] &lt; 0.75*L) &amp; (y[i] &gt; 0.25*H) &amp; (y[i] &lt; 0.75*H)
        T0[i] = 100.0
    end
end
state0 = setup_state(model, Dict(:T=&gt;T0))
sim = Simulator(model, state0 = state0)
dt = fill(1.0, 100)
states, = simulate(sim, dt, info_level = 1);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SimResult with 100 entries:

  states (model variables)
    :T =&gt; Vector{Float64} of size (10000,)

  reports (timing/debug information)
    :ministeps =&gt; Vector{Any} of size (1,)
    :total_time =&gt; Float64
    :output_time =&gt; Float64

  Completed at Jun. 27 2025 11:06 after 11 seconds, 908 milliseconds, 848.1 microseconds.</code></pre><h3 id="Visualizing-the-results"><a class="docs-heading-anchor" href="#Visualizing-the-results">Visualizing the results</a><a id="Visualizing-the-results-1"></a><a class="docs-heading-anchor-permalink" href="#Visualizing-the-results" title="Permalink"></a></h3><p>If using Julia 1.9 or later, visualization is provided if a version of Makie is included. In the documentation we use CairoMakie as it can produce plots on servers without rendering capabilities, such as the one where the Jutul continious integration is running:</p><pre><code class="language-julia hljs">using CairoMakie</code></pre><p>If you are running this locally and want interactive plots you can instead use the <code>GLMakie</code> backend.</p><pre><code class="language-julia hljs">using GLMakie
GLMakie.activate!()</code></pre><p>We plot the initial conditions:</p><pre><code class="language-julia hljs">fig, ax = plot_cell_data(g, state0[:T])
fig</code></pre><img src="index-55316a1c.png" alt="Example block output"/><p>We can then plot the final state, observing significant diffusion from the sharp initial state.</p><pre><code class="language-julia hljs">fig, ax = plot_cell_data(g, states[end][:T])
fig</code></pre><img src="index-655b584c.png" alt="Example block output"/><p>There is also interactive plotting that allows you to step through each time-step. This is most relevant when using <code>GLMakie</code> to plot, otherwise the figure will be static.</p><pre><code class="language-julia hljs">plot_interactive(g, [state0; states])</code></pre><img src="index-cebd90f0.png" alt="Example block output"/><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><ul><li><a href="docstrings/#Docstrings">Docstrings</a></li><li><a href="#Jutul-documentation">Jutul documentation</a></li><li class="no-marker"><ul><li><a href="#About">About</a></li><li><a href="#An-example">An example</a></li><li><a href="#Contents">Contents</a></li></ul></li><li><a href="internals/#Internal-docstrings">Internal docstrings</a></li><li class="no-marker"><ul><li><a href="internals/#Entities-and-variables">Entities and variables</a></li><li><a href="internals/#Equations">Equations</a></li><li><a href="internals/#Automatic-differentiation">Automatic differentiation</a></li><li><a href="internals/#Matrix">Matrix</a></li><li><a href="internals/#Various">Various</a></li></ul></li><li><a href="mesh/#Meshes-and-mesh-utilities">Meshes and mesh utilities</a></li><li class="no-marker"><ul><li><a href="mesh/#Mesh-types">Mesh types</a></li><li><a href="mesh/#Plotting-functions">Plotting functions</a></li><li><a href="mesh/#Example:-Cartesian-meshes">Example: Cartesian meshes</a></li><li><a href="mesh/#Mesh-API-functions">Mesh API functions</a></li><li><a href="mesh/#Example:-Mesh-manipulation">Example: Mesh manipulation</a></li><li><a href="mesh/#Example:-Cell-intersection">Example: Cell intersection</a></li><li><a href="mesh/#Mesh-generation">Mesh generation</a></li></ul></li><li><a href="usage/#High-level-docstrings">High-level docstrings</a></li><li class="no-marker"><ul><li><a href="usage/#Setting-up-models">Setting up models</a></li><li><a href="usage/#Systems-and-domains">Systems and domains</a></li><li><a href="usage/#Set-up-of-system">Set up of system</a></li><li><a href="usage/#Simulator-interfaces">Simulator interfaces</a></li><li><a href="usage/#Sensitivities,-adjoints-and-optimization">Sensitivities, adjoints and optimization</a></li><li><a href="usage/#Linear-solvers">Linear solvers</a></li><li><a href="usage/#Execution-contexts">Execution contexts</a></li></ul></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="usage/">Usage »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Friday 27 June 2025 11:58">Friday 27 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
